(function(e){function t(t){for(var r,o,i=t[0],u=t[1],l=t[2],b=0,d=[];b<i.length;b++)o=i[b],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&d.push(n[o][0]),n[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);s&&s(t);while(d.length)d.shift()();return c.push.apply(c,l||[]),a()}function a(){for(var e,t=0;t<c.length;t++){for(var a=c[t],r=!0,i=1;i<a.length;i++){var u=a[i];0!==n[u]&&(r=!1)}r&&(c.splice(t--,1),e=o(o.s=a[0]))}return e}var r={},n={app:0},c=[];function o(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=r,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(a,r,function(t){return e[t]}.bind(null,r));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/2048/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var s=u;c.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"3cb5":function(e,t,a){"use strict";a("c88e")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("7a23");function n(e,t,a,n,c,o){var i=Object(r["o"])("Game");return Object(r["j"])(),Object(r["e"])(i)}var c=Object(r["t"])("data-v-569f9378");Object(r["l"])("data-v-569f9378");var o={class:"game"},i={class:"config-wrapper"},u=Object(r["i"])("b",null,"New Game",-1),l={class:"size"},s=Object(r["h"])(" YOU WON "),b=Object(r["i"])("span",{class:"continue-button"},"- click to continue -",-1),d={class:"gameBoard"},v={class:"tileBoard"};Object(r["k"])();var f=c((function(e,t,a,n,f,p){var O=Object(r["o"])("Stats"),j=Object(r["o"])("Tile"),g=Object(r["o"])("Info");return Object(r["j"])(),Object(r["e"])("div",o,[Object(r["i"])(O,{score:n.score},null,8,["score"]),Object(r["i"])("div",i,[Object(r["i"])("div",{class:"new-game config-button",onClick:t[1]||(t[1]=function(){return n.newGame&&n.newGame.apply(n,arguments)})},[u]),Object(r["i"])("div",l,[Object(r["r"])(Object(r["i"])("input",{type:"range",min:"4",max:"6","onUpdate:modelValue":t[2]||(t[2]=function(e){return n.boardSize=e}),onKeydown:t[3]||(t[3]=Object(r["s"])((function(){}),["prevent"])),class:"size-range config-button"},null,544),[[r["q"],n.boardSize]])])]),Object(r["i"])(r["b"],{name:"gg"},{default:c((function(){return[0===n.gameState?(Object(r["j"])(),Object(r["e"])("div",{key:n.gameState,class:"postgame-text"},"GAME OVER")):Object(r["f"])("",!0)]})),_:1}),Object(r["i"])(r["b"],{name:"gg"},{default:c((function(){return[2===n.gameState?(Object(r["j"])(),Object(r["e"])("div",{key:n.gameState,onClick:t[4]||(t[4]=function(e){return n.gameState=1}),class:"postgame-text"},[s,b])):Object(r["f"])("",!0)]})),_:1}),Object(r["i"])("div",{class:["game-wrapper",n.gameOver],style:{width:n.gameSize+"px",height:n.gameSize+"px"}},[Object(r["i"])("div",d,[(Object(r["j"])(),Object(r["e"])(r["a"],null,Object(r["n"])(6,(function(e){return Object(r["j"])(),Object(r["e"])(r["a"],{key:e},[(Object(r["j"])(),Object(r["e"])(r["a"],null,Object(r["n"])(6,(function(e){return Object(r["i"])("div",{key:e,class:["tile",n.gridSize]},null,2)})),64))],64)})),64))]),Object(r["i"])("div",v,[(Object(r["j"])(!0),Object(r["e"])(r["a"],null,Object(r["n"])(n.tiles,(function(e){return Object(r["j"])(),Object(r["e"])(j,{key:e,cell:e},null,8,["cell"])})),128))])],6),Object(r["i"])(g)])}));a("cb29"),a("4de4"),a("4160"),a("d81d"),a("159b");function p(e,t,a,n,c,o){return Object(r["j"])(),Object(r["e"])("div",{class:["cell",o.tileMove]},[Object(r["i"])("div",{class:["inner",o.tileBackgroundClass,o.tileMerged,o.tileNew]},Object(r["p"])(a.cell.value),3)],2)}a("99af"),a("a9e3");var O={name:"Tile",props:{pos:{x:Number,y:Number},cell:Object},computed:{tileBackgroundClass:function(){var e;return"background-".concat(null===(e=this.cell)||void 0===e?void 0:e.value)},tileMerged:function(){var e;return null!==(e=this.cell)&&void 0!==e&&e.merged?"merged":""},tileNew:function(){var e;return null!==(e=this.cell)&&void 0!==e&&e.fresh?"new":""},tileMove:function(){var e,t,a,r;return"tile-move-".concat(null===(e=this.cell)||void 0===e||null===(t=e.pos)||void 0===t?void 0:t.x,"-").concat(null===(a=this.cell)||void 0===a||null===(r=a.pos)||void 0===r?void 0:r.y)}}};a("8ae9");O.render=p;var j=O,g=Object(r["t"])("data-v-6fd54e12");Object(r["l"])("data-v-6fd54e12");var h={class:["stats-wrapper"]},m=Object(r["i"])("p",{class:"title"},"2048",-1),y={class:"score-wrapper statbox"},x=Object(r["i"])("span",{class:"stat-text"},"Score",-1),w={class:"stat-data"},S={class:"highscore-wrapper statbox"},k=Object(r["i"])("span",{class:"stat-text"},"Highscore",-1),M={class:"stat-data"};Object(r["k"])();var _=g((function(e,t,a,n,c,o){return Object(r["j"])(),Object(r["e"])("div",h,[m,Object(r["i"])("div",y,[x,Object(r["i"])("div",w,Object(r["p"])(a.score),1),Object(r["i"])(r["b"],{name:"rise"},{default:g((function(){return[(Object(r["j"])(),Object(r["e"])("div",{key:a.score,class:"score-inc"},"+"+Object(r["p"])(e.scoreInc),1))]})),_:1})]),Object(r["i"])("div",S,[k,Object(r["i"])("div",M,Object(r["p"])(e.highScore),1)])])})),I={name:"Stats",props:{score:Number},data:function(){return{highScore:localStorage.getItem("2048high")||0,scoreInc:0}},watch:{score:function(e,t){this.scoreInc=e-t,this.highScore=Math.max(e,this.highScore)},highScore:function(){localStorage.setItem("2048high",this.highScore)}}};a("dc39");I.render=_,I.__scopeId="data-v-6fd54e12";var z=I,G=Object(r["t"])("data-v-9bb54d60");Object(r["l"])("data-v-9bb54d60");var N={class:"info-wrapper"},E=Object(r["g"])('<div class="how-to" data-v-9bb54d60><span data-v-9bb54d60><b data-v-9bb54d60>HOW TO PLAY: </b> Use <b data-v-9bb54d60>arrowkeys</b> or swipe to move the tiles. If two tiles with the same value collide, they <b data-v-9bb54d60>merge into one</b>. The goal of the game is to get a tile to <b data-v-9bb54d60>2048</b>. </span></div><div class="credits" data-v-9bb54d60><span data-v-9bb54d60> Created in <b data-v-9bb54d60>Vue</b> by Johan Berglund based on 2048 by <a href="http://gabrielecirulli.com/" data-v-9bb54d60>Gabriele Cirulli</a>. Based on <a href="https://itunes.apple.com/us/app/1024!/id823499224" data-v-9bb54d60>1024 by Veewo Studio</a>. </span></div>',2);Object(r["k"])();var P=G((function(e,t,a,n,c,o){return Object(r["j"])(),Object(r["e"])("div",N,[E])})),A={};a("7d80");A.render=P,A.__scopeId="data-v-9bb54d60";var B=A,C=2,T={up:38,down:40,left:37,right:39},J={name:"Board",components:{Tile:j,Stats:z,Info:B},setup:function(){var e,t=Object(r["m"])(4),a=Object(r["m"])([]),n=Object(r["m"])(0),c=Object(r["m"])(1),o=Object(r["c"])((function(){return"grid-".concat(t.value)})),i=Object(r["c"])((function(){return 123*t.value-15})),u=Object(r["c"])((function(){return 1!==c.value?"gameOver":""}));function l(){document.addEventListener("keyup",_);var e=localStorage.getItem("2048state");e?b(e):s()}function s(){M(),e=Array(6).fill().map((function(){return Array(6).fill(0)})),a.value.length=0,n.value=0,c.value=1;for(var t=0;t<C;t++)x(S())}function b(r){var c=JSON.parse(r);a.value=c.tile,t.value=c.size,e=c.grid,n.value=c.score}function d(t){var r=!1,n=g(t);y(a.value),n.x.forEach((function(a){n.y.forEach((function(n){var o={x:a,y:n};if(e[a][n]){var i=m(o),u=j(o,t),l=m(u.next);l&&p(l.pos)&&l.value===i.value&&!l.merged&&!i.merged?(e[a][n]=0,i=O(i),i.pos=l.pos,w(l),r=!0,2048===i.value&&(c.value=2,console.log("GAME WON"))):o!==u.farthest&&(i.pos=u.farthest,e[a][n]=0,e[i.pos.x][i.pos.y]=1,r=!0)}}))})),r&&(x(S()),f()||v()?k():(c.value=0,console.log("GAME OVER"),M()))}function v(){for(var e,a,r=0;r<t.value;r++)for(var n=0;n<t.value;n++)if(e=m({x:r,y:n}),e)for(var c=0;c<4;c++){var o=h(c);if(a=m({x:r+o.x,y:n+o.y}),a&&p(a.pos)&&e.value===a.value)return!0}return!1}function f(){for(var a=0;a<t.value;a++)for(var r=0;r<t.value;r++)if(0===e[a][r])return!0;return!1}function p(e){return e.x>=0&&e.x<t.value&&e.y>=0&&e.y<t.value}function O(e){return e.value*=2,n.value+=e.value,e.merged=!0,e}function j(t,a){var r;do{r=t,t={x:r.x+a.x,y:r.y+a.y}}while(p(t)&&!e[t.x][t.y]);return{farthest:r,next:t}}function g(e){for(var a={x:[],y:[]},r=0;r<t.value;r++)a.x.push(r),a.y.push(r);return 1===e.x&&a.x.reverse(),1===e.y&&a.y.reverse(),a}function h(e){var t={0:{x:0,y:-1},1:{x:1,y:0},2:{x:-1,y:0},3:{x:0,y:1}};return t[e]}function m(e){return a.value.filter((function(t){return t.pos.x===e.x&&t.pos.y===e.y}))[0]}function y(e){e.forEach((function(e){e.merged=!1}))}function x(t){a.value.push(t),e[t.pos.x][t.pos.y]=1}function w(e){a.value=a.value.filter((function(t){return t!==e}))}function S(){var a,r,n=Math.floor(Math.random()*(t.value*t.value));do{n=(n+1)%(t.value*t.value),a=Math.floor(n/t.value),r=n%t.value}while(0!==e[a][r]);var c=Math.random()<.1?4:2;return{pos:{x:a,y:r},value:c,fresh:!0,merged:!1}}function k(){var r=JSON.stringify({tile:a.value,grid:e,score:n.value,size:t.value});localStorage.setItem("2048state",r)}function M(){localStorage.removeItem("2048state")}function _(e){var t=e.which||e.keyCode;switch(t){case T.up:d(h(0));break;case T.down:d(h(3));break;case T.left:d(h(2));break;case T.right:d(h(1));break;default:break}}return l(),{boardSize:t,tiles:a,score:n,newGame:s,gridSize:o,gameSize:i,gameOver:u,gameState:c}}};a("3cb5");J.render=f,J.__scopeId="data-v-569f9378";var V=J,U={name:"App",components:{Game:V}};a("676d");U.render=n;var W=U;Object(r["d"])(W).mount("#app")},"618a":function(e,t,a){},6335:function(e,t,a){},6478:function(e,t,a){},"676d":function(e,t,a){"use strict";a("618a")},"7d80":function(e,t,a){"use strict";a("6335")},"8ae9":function(e,t,a){"use strict";a("d6a3")},c88e:function(e,t,a){},d6a3:function(e,t,a){},dc39:function(e,t,a){"use strict";a("6478")}});
//# sourceMappingURL=app.1985fcfc.js.map